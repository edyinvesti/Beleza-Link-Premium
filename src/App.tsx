import { HashRouter as Router, Routes, Route, Navigate } from "react-router-dom"; import { useState, useEffect } from "react"; import Home from "./screens/Home"; import Painel from "./screens/Painel"; import Sidebar from "./components/Sidebar"; import LockScreen from "./components/LockScreen"; function App() { const [autenticado, setAutenticado] = useState(false); useEffect(() => { const auth = sessionStorage.getItem("is_authenticated"); if (auth === "true") setAutenticado(true); }, []); const RotaProtegida = ({ children }: { children: React.ReactNode }) => { if (!autenticado) return <Navigate to="/" replace />; return ( <div className="flex bg-[#050505] min-h-screen text-white"> <Sidebar /> <main className="flex-1 md:ml-64 min-h-screen">{children}</main> </div> ); }; return ( <Router> <Routes> <Route path="/" element={<Home />} /> <Route path="/painel" element={ autenticado ? ( <RotaProtegida><Painel /></RotaProtegida> ) : ( <LockScreen onUnlock={() => setAutenticado(true)} /> ) } /> <Route path="*" element={<Navigate to="/" replace />} /> </Routes> </Router> ); } export default App;